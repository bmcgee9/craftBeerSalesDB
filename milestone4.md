# Documentation for Milestone 4
## Brett McGee

For the task 1 milestone 4, I performed 3 enhancements: migrating my database to AWS, creating a front end that allows users to query my DB, and creating an authentication system on the website. This page of documentation dives into how I accomplished all 3 of these enhancements, and then I will discuss some of the issues I ran into and the lessons I learned from them. <br>
### Enhancement 1: Migrating my database to AWS
To accomplish this, I followed the guide posted in the latest canvas announcement. First, I created a new RDS on AWS through the learner lab we have been using. I made sure to select it to run an image that used mySQL, and I made sure that it could be accessed through the internet. Still in the AWS portal, I went to the security group that my RDS was a part of and made sure that it allowed traffic from anywhere going to port 3306 which is the standard port that mySQL uses. I then went into mySQL Workbench on my local machine and used the "Data Export" tool under the "Databases" tab. This tool generated a `.sql` script that recreates the DB schemas and data in another mySQL database. Still in mySQL workbench on my laptop, I created another connection from the home page that allowed my to remotely connect to my craftbeerdb on my RDS through mySQL workbench. Once I had this connection set up, I simply just used the "Data Import" tool under the "Databases" tab and set it to run the script generated by the Data Export. This ran successfully the first time, and I ran a few sample queries to make sure all the data was there. Here is a picture of my craftbeerRDS and its schemas: <br> ![image](https://github.com/bmcgee9/craftBeerSalesDB/assets/102620872/fa0db86f-7313-4445-99eb-578a90122692).


### Enhancement 2: Creating a Front End
First, check out this [link](enhancement.md) to explore the functionality of my front end. In this section, I will just explain how I created it. 

### Issues and Solutions and Lessons Learned
1. I couldn't figure out how to migrate my DB into a MariaDB instance on the ec2 server I was using for my website.
2. I was having trouble figuring out where the IP was on my RDS dashboard, but I then learned that you get a static url to connect to your RDS instead of an IP because the public IP is changing everytime it has to request an IP address from the AWS DHCP system.
3. I was having an extremely pesty connection issue between my servers while sending a POST request to the RDS server. I spent hours trying to debug it.
   I first went down the rabbit hole of making sure I was allowing HTTP, SQL(port 3306), and ICMP traffic and eventually all traffic between the two security groups that the servers were in, but this did nothing to help the issue.
   Eventually, after searching through a lot of online forums, I found that the issue was with the version of SELinux (Security Enhanced Linux) that my ec2 server was running not allowing certain connections.
   The solution was to run this line: `setsebool -P httpd_can_network_connect=1`. Here is the [link](https://stackoverflow.com/questions/3407281/mysqli-connect-problem) to the forum I used to solve this issue.
